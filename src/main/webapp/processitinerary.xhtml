<?xml version="1.0" encoding="UTF-8"?>
<!--
Copyright 2014 ecabrerar.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets" template="WEB-INF/template/default.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="title">Air Alliance :: JEE 7::Provide Itinerary Details </ui:define>


    <ui:define name="content">

        <h:messages id="message" errorClass="alert alert-danger" warnClass="alert alert-warning" showSummary="true" infoClass="alert alert-info"  />
        
        
        <div>
            <h1>Provide Itinerary Details</h1>
        </div>
        <h:form id="form" >
            <h:panelGrid >
                <div class="form-group">
                    <h:outputLabel value="First Name : "/>
                    <h:inputText  id="fname" class="form-control" value="#{itineraryController.itinerary.guest.firstName}"/>
                </div>
                <div class="form-group">
                    <h:outputLabel value="Last Name : "/>
                    <h:inputText  id="lname" class="form-control" value="#{itineraryController.itinerary.guest.lastName}"/>
                </div>

                <div class="form-group">
                    <h:outputLabel value="Select Source Sector : "/>
                    <h:selectOneListbox id="sourcelist" value="#{itineraryController.itinerary.flight.sourceSector.sector}" size="1">
                        <f:selectItems value="#{sectorController.sectors}" var="source" itemValue="#{source.id}" itemLabel="#{source.sector}">
                        </f:selectItems> 

                    </h:selectOneListbox>
                </div>

                <div class="form-group">
                    <h:outputLabel value="Select Destination Sector : "/>
                    <h:selectOneListbox id="destlist" value="#{itineraryController.itinerary.flight.destSector.sector}" size="1" >
                        <f:selectItems value="#{sectorController.sectors}" var="dest" itemValue="#{dest.id}" itemLabel="#{dest.sector}">
                        </f:selectItems> 

                    </h:selectOneListbox>
                </div>
                <div class="form-group">
                    <h:outputLabel value="Start Date: "/>
                    <h:inputText id="sdate"  class="form-control" p:date="date"  value="#{itineraryController.itinerary.schedule.scheduleDate}">
                     <f:convertDateTime pattern="yyyy-MM-dd" />
                    </h:inputText>
                </div>

                <div id="note">
                    <p>Enter the journey start date in yyyy-mm-dd</p>
                </div>
            </h:panelGrid>

            <h:commandButton  class="btn btn-default" value="Process Itinerary" action="#{itineraryController.processReservation}" type="submit">

            </h:commandButton>                  

        </h:form> 
    </ui:define>
</ui:composition>